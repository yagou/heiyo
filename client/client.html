<!DOCTYPE html>  
<html>  
<head>  
<title>Testing websockets</title>  
</head>  
<body>  
    <div>  
        <input type="submit" value="Start" onclick="start()" />  
    </div>  
    <div id="messages" style="border:1px  solid red;">fdsa</div>  
    <script type="text/javascript">  
        var webSocket =  new WebSocket('ws://127.0.0.1:5498/ws');  
  
        webSocket.onerror = function(event) {  
            onError(event)  
        };  
  
        webSocket.onopen = function(event) {  
            onOpen(event)  
        };  
  
        webSocket.onmessage = function(event) {  
            onMessage(event)  
        };  
  
        function onMessage(event) {  
            document.getElementById('messages').innerHTML   
                += '<br />' + event.data;  
        }  
  
        function onOpen(event) {  
            document.getElementById('messages').innerHTML   
                = 'Connection established';  
        }  
  
        function onError(event) {  
            alert(event.data);  
            alert("error");  
        }  
  
        function start() {  
            webSocket.send('hello');  
            return false;  
        }  
    </script>  
</body>  
</html> 